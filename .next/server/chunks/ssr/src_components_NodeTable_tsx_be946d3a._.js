module.exports=[24524,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);function e({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,d.cn)("w-full caption-bottom text-sm",a),...c,style:{backgroundColor:"var(--accent-1)"}})})}function f({className:a,...c}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,d.cn)("[&_tr]:border-b",a),style:{backgroundColor:"var(--accent-2)"},...c})}function g({className:a,...c}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c})}function h({className:a,...c}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,d.cn)("transition-colors border-b border-[var(--accent-2)] hover:bg-[var(--accent-2)] data-[state=selected]:bg-[var(--accent-3)]",a),...c})}function i({className:a,...c}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,d.cn)("h-10 px-2 text-left align-middle font-medium whitespace-nowrap text-[var(--accent-12)] [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),style:{backgroundColor:"var(--accent-4)"},...c})}function j({className:a,...c}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,d.cn)("p-2 align-middle whitespace-nowrap text-[var(--accent-12)] [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}var k=a.i(48239),l=a.i(62961),m=a.i(25171);a.i(2407);var n=a.i(78134),o=a.i(38246),p=a.i(70106);let q=(0,p.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),r=(0,p.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),s=(0,p.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var t=a.i(18338),u=a.i(81651),v=a.i(49986),w=a.i(91631),x=a.i(18555),y=a.i(33829);function z({up:a,down:c,className:d,align:e="start"}){return(0,b.jsxs)("div",{className:`flex flex-col gap-0 ${{start:"items-start",center:"items-center",end:"items-end"}[e]} ${d}`,children:[(0,b.jsx)("label",{className:"text-base font-bold",children:a}),(0,b.jsx)("label",{className:"text-sm text-muted-foreground -mt-1",children:c})]})}var A=a.i(11743),B=a.i(28781),C=a.i(47525),D=a.i(55346);let E=({uuid:a,gap:c,box:d,align:e})=>{let{t:f}=(0,n.useTranslation)(),{nodeList:g}=(0,A.useNodeList)(),{live_data:h}=(0,B.useLiveData)(),i=g?.find(b=>b.uuid===a),j=d?D.Card:"div";return(0,b.jsx)(j,{className:"DetailsGrid max-w-[900px]",children:(0,b.jsxs)("div",{className:`flex flex-wrap gap-${c??"4"} basis-full justify-center ${"center"===e?"justify-between":""}`,children:[(0,b.jsx)(z,{className:"md:w-128 flex-[0_0_calc(50%-0.5rem)]",up:"CPU",down:`${i?.cpu_name} (x${i?.cpu_cores})`}),(0,b.jsxs)("label",{className:`flex flex-wrap gap-2 gap-x-8 flex-[0_0_calc(50%-0.5rem)] ${"center"===e?"justify-end":""}`,children:[(0,b.jsx)(z,{up:f("nodeCard.arch"),down:i?.arch??"Unknown"}),(0,b.jsx)(z,{up:f("nodeCard.virtualization"),align:"center"===e?"end":"start",down:i?.virtualization??"Unknown"})]}),(0,b.jsx)(z,{up:"GPU",down:i?.gpu_name??"Unknown",className:"flex-[0_0_calc(50%-0.5rem)]"}),(0,b.jsxs)("div",{className:`flex flex-col gap-0 flex-[0_0_calc(50%-0.5rem)] ${"center"===e?"items-end text-right":"items-start"}`,children:[(0,b.jsx)("label",{className:"text-base font-bold",children:f("nodeCard.os")}),(0,b.jsx)("label",{className:"text-sm text-muted-foreground -mt-1",children:i?.os??"Unknown"}),(0,b.jsxs)("label",{className:"text-xs text-muted-foreground opacity-75",children:[f("nodeCard.kernelVersion"),": ",i?.kernel_version??"Unknown"]})]}),(0,b.jsx)(z,{className:"md:w-64 w-full flex-[0_0_calc(50%-0.5rem)]",up:f("nodeCard.networkSpeed"),down:` ↑ ${(0,u.formatBytes)(h?.data.data[a??""]?.network.up||0)}/s
          ↓
          ${(0,u.formatBytes)(h?.data.data[a??""]?.network.down||0)}/s`}),(0,b.jsx)(z,{up:f("nodeCard.totalTraffic"),align:"center"===e?"end":"start",className:"flex-[0_0_calc(50%-0.5rem)]",down:`↑
          ${(0,u.formatBytes)(h?.data.data[a??""]?.network.totalUp||0)}
          ↓
          ${(0,u.formatBytes)(h?.data.data[a??""]?.network.totalDown||0)}`}),(0,b.jsx)(z,{className:"md:w-70 w-full flex-[0_0_calc(50%-0.5rem)]",up:f("nodeCard.ram"),down:(0,u.formatBytes)(i?.mem_total||0)}),(0,b.jsx)(z,{up:f("nodeCard.swap"),className:"flex-[0_0_calc(50%-0.5rem)]",align:"center"===e?"end":"start",down:(0,u.formatBytes)(i?.swap_total||0)}),(0,b.jsx)(z,{className:"md:w-64 w-full flex-[0_0_calc(50%-0.5rem)]",up:f("nodeCard.disk"),down:(0,u.formatBytes)(i?.disk_total||0)}),(0,b.jsx)("div",{className:"flex-[0_0_calc(50%-0.5rem)]"}),(0,b.jsx)(z,{up:f("nodeCard.uptime"),className:"flex-[0_0_calc(50%-0.5rem)]",down:h?.data.data[a??""]?.uptime?(0,t.formatUptime)(h?.data.data[a??""]?.uptime,f):"-"}),(0,b.jsx)("label",{className:`flex flex-wrap gap-2 flex-[0_0_calc(50%-0.5rem)] ${"center"===e?"justify-end":""}`,children:(0,b.jsxs)(l.Flex,{align:"center",gap:"2",children:[(0,b.jsx)(C.Text,{size:"2",weight:"bold",wrap:"nowrap",children:f("nodeCard.last_updated")}),(0,b.jsx)(C.Text,{size:"2",children:i?.updated_at?new Date(h?.data.data[a??""]?.updated_at||i.updated_at).toLocaleString():"-"})]})})]})})};var F=a.i(86257);a.i(59948);var G=a.i(15248);let H=({node:a})=>(0,b.jsxs)("div",{className:"p-4 space-y-4",children:[(0,b.jsx)(E,{gap:"0",uuid:a.uuid}),(0,b.jsx)("div",{children:(0,b.jsx)(F.default,{hours:24,uuid:a.uuid})})]});a.s(["default",0,({nodes:a,liveData:d})=>{let[p]=(0,n.useTranslation)(),[z,A]=(0,c.useState)(new Set),[B,C]=(0,c.useState)({field:null,order:"default"}),D=a=>b=>{b.preventDefault(),C(b=>{if(b.field!==a)return{field:a,order:"asc"};{let c="default"===b.order?"asc":"asc"===b.order?"desc":"default";return{field:"default"===c?null:a,order:c}}})},E=a=>B.field!==a?null:"asc"===B.order?(0,b.jsx)(r,{size:14}):(0,b.jsx)(s,{size:14}),F=d&&d.online?d.online:[],I=a=>d&&d.data&&d.data[a]||{cpu:{usage:0},ram:{used:0},disk:{used:0},network:{up:0,down:0,totalUp:0,totalDown:0},uptime:0},J=[...a].sort((a,b)=>{let c=F.includes(a.uuid),d=F.includes(b.uuid),e=I(a.uuid),f=I(b.uuid);if(!B.field||"default"===B.order)return c!==d?c?-1:1:a.weight-b.weight;let g=0;switch(B.field){case"name":g=a.name.localeCompare(b.name);break;case"os":g=a.os.localeCompare(b.os);break;case"status":g=Number(d)-Number(c);break;case"cpu":g=e.cpu.usage-f.cpu.usage;break;case"ram":g=(a.mem_total?e.ram.used/a.mem_total*100:0)-(b.mem_total?f.ram.used/b.mem_total*100:0);break;case"disk":g=(a.disk_total?e.disk.used/a.disk_total*100:0)-(b.disk_total?f.disk.used/b.disk_total*100:0);break;case"price":g=a.price-b.price;break;case"networkUp":g=e.network.up-f.network.up;break;case"networkDown":g=e.network.down-f.network.down;break;case"totalUp":g=e.network.totalUp-f.network.totalUp;break;case"totalDown":g=e.network.totalDown-f.network.totalDown;break;default:g=0}return"desc"===B.order?-g:g});return(0,b.jsx)("div",{className:"mx-4 overflow-x-auto rounded-xl node-table-container",children:(0,b.jsxs)(e,{children:[(0,b.jsx)(f,{children:(0,b.jsxs)(h,{children:[(0,b.jsx)(i,{className:"w-[24px]"}),(0,b.jsx)(i,{className:"w-[200px] min-w-[150px] cursor-pointer hover:bg-accent-2 select-none",onClick:D("name"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",children:[p("nodeCard.name"),E("name")]})}),(0,b.jsx)(i,{className:"cursor-pointer hover:bg-accent-2 select-none",onClick:D("os"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",children:[p("nodeCard.os"),E("os")]})}),(0,b.jsx)(i,{className:"max-w-[128px] cursor-pointer hover:bg-accent-2 select-none",onClick:D("status"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",children:[p("nodeCard.status"),E("status")]})}),(0,b.jsx)(i,{className:"cursor-pointer hover:bg-accent-2 select-none",onClick:D("cpu"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",children:[p("nodeCard.cpu"),E("cpu")]})}),(0,b.jsx)(i,{className:"cursor-pointer hover:bg-accent-2 select-none",onClick:D("ram"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",children:[p("nodeCard.ram"),E("ram")]})}),(0,b.jsx)(i,{className:"cursor-pointer hover:bg-accent-2 select-none",onClick:D("disk"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",children:[p("nodeCard.disk"),E("disk")]})}),(0,b.jsx)(i,{className:"cursor-pointer hover:bg-accent-2 select-none",onClick:D("price"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",children:[p("nodeCard.price"),E("price")]})}),(0,b.jsx)(i,{className:"cursor-pointer hover:bg-accent-2 select-none text-center min-w-[80px]",onClick:D("networkUp"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",justify:"center",children:[p("nodeCard.networkUploadSpeed"),E("networkUp")]})}),(0,b.jsx)(i,{className:"cursor-pointer hover:bg-accent-2 select-none text-center min-w-[80px]",onClick:D("networkDown"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",justify:"center",children:[p("nodeCard.networkDownloadSpeed"),E("networkDown")]})}),(0,b.jsx)(i,{className:"cursor-pointer hover:bg-accent-2 select-none text-center min-w-[80px]",onClick:D("totalUp"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",justify:"center",children:[p("nodeCard.totalUpload"),E("totalUp")]})}),(0,b.jsx)(i,{className:"cursor-pointer hover:bg-accent-2 select-none text-center min-w-[80px]",onClick:D("totalDown"),title:p("nodeCard.sortTooltip"),children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",justify:"center",children:[p("nodeCard.totalDownload"),E("totalDown")]})})]})}),(0,b.jsx)(g,{children:J.map(a=>{let d=F.includes(a.uuid),e=I(a.uuid),f=z.has(a.uuid),g=a.mem_total?e.ram.used/a.mem_total*100:0,i=a.disk_total?e.disk.used/a.disk_total*100:0;return(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsxs)(h,{className:"hover:bg-accent-2 transition-colors duration-200 table-row-hover",onClick:()=>{var b;return b=a.uuid,void A(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},children:[(0,b.jsx)(j,{children:(0,b.jsx)("div",{className:"flex justify-center items-center",children:(0,b.jsx)(m.IconButton,{variant:"ghost",size:"1",className:`expand-button ${f?"expanded":""}`,"aria-label":"Expand row",children:(0,b.jsx)(q,{size:16})})})}),(0,b.jsx)(j,{className:"node-name-cell",children:(0,b.jsxs)(l.Flex,{align:"center",gap:"1",children:[(0,b.jsx)(w.default,{flag:a.region}),(0,b.jsx)(o.default,{href:`/instance/${a.uuid}`,className:"hover:underline",onClick:a=>a.stopPropagation(),children:(0,b.jsxs)(l.Flex,{direction:"column",gap:"0",children:[(0,b.jsx)("label",{className:"max-w-[150px] font-bold text-lg truncate",children:a.name}),d?(0,b.jsx)("label",{className:"-mt-1 text-muted-foreground text-xs",children:(0,t.formatUptime)(e.uptime,p)}):(0,b.jsx)("label",{className:"-mt-1 text-muted-foreground",children:"-"})]})})]})}),(0,b.jsx)(j,{className:"w-4",children:(0,b.jsx)("img",{src:(0,G.getOSImage)(a.os),alt:a.os,className:"w-5 h-5 mr-2"})}),(0,b.jsx)(j,{children:(0,b.jsxs)(l.Flex,{direction:"row",justify:"start",align:"center",gap:"1",children:[(0,b.jsx)("div",{children:(0,b.jsx)(k.Badge,{color:d?"green":"red",variant:"soft",size:"1",children:d?p("nodeCard.online"):p("nodeCard.offline")})}),e.message&&(0,b.jsx)(y.default,{color:"#CE282E",children:e.message})]})}),(0,b.jsx)(j,{children:(0,b.jsx)("div",{className:"w-[100px]",children:(0,b.jsx)(v.default,{label:"",value:e.cpu.usage,compact:!0})})}),(0,b.jsx)(j,{children:(0,b.jsx)("div",{className:"w-[100px]",children:(0,b.jsx)(v.default,{label:"",value:g,compact:!0})})}),(0,b.jsx)(j,{children:(0,b.jsx)("div",{className:"w-[100px]",children:(0,b.jsx)(v.default,{label:"",value:i,compact:!0})})}),(0,b.jsx)(j,{children:(0,b.jsx)(x.default,{price:a.price,billing_cycle:a.billing_cycle,expired_at:a.expired_at,currency:a.currency,gap:"1",tags:a.tags||""})}),(0,b.jsx)(j,{className:"text-center min-w-[80px]",children:(0,b.jsxs)("label",{children:["↑",(0,u.formatBytes)(e.network.up),"/s"]})}),(0,b.jsx)(j,{className:"text-center min-w-[80px]",children:(0,b.jsxs)("label",{children:["↓",(0,u.formatBytes)(e.network.down),"/s"]})}),(0,b.jsx)(j,{className:"text-center min-w-[80px]",children:(0,b.jsxs)("label",{children:["↑",(0,u.formatBytes)(e.network.totalUp)]})}),(0,b.jsx)(j,{className:"text-center min-w-[80px]",children:(0,b.jsxs)("label",{children:["↓",(0,u.formatBytes)(e.network.totalDown)]})})]}),f&&(0,b.jsx)(h,{className:"expanded-row",children:(0,b.jsx)(j,{colSpan:12,className:"bg-accent-1",children:(0,b.jsx)("div",{className:"expand-content",children:(0,b.jsx)(H,{node:a,nodeData:e})})})})]},a.uuid)})})]})})}],24524)}];

//# sourceMappingURL=src_components_NodeTable_tsx_be946d3a._.js.map