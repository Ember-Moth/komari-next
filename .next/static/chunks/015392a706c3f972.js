(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,92738,e=>{"use strict";var a=e.i(43476),t=e.i(71645),l=e.i(75157);function s({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,l.cn)("w-full caption-bottom text-sm",e),...t,style:{backgroundColor:"var(--accent-1)"}})})}function r({className:e,...t}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,l.cn)("[&_tr]:border-b",e),style:{backgroundColor:"var(--accent-2)"},...t})}function n({className:e,...t}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,l.cn)("[&_tr:last-child]:border-0",e),...t})}function c({className:e,...t}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,l.cn)("transition-colors border-b border-[var(--accent-2)] hover:bg-[var(--accent-2)] data-[state=selected]:bg-[var(--accent-3)]",e),...t})}function o({className:e,...t}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium whitespace-nowrap text-[var(--accent-12)] [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),style:{backgroundColor:"var(--accent-4)"},...t})}function d({className:e,...t}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,l.cn)("p-2 align-middle whitespace-nowrap text-[var(--accent-12)] [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}var i=e.i(82492),x=e.i(39045),u=e.i(99271);e.i(85269);var m=e.i(22831),p=e.i(22016),h=e.i(75254);let j=(0,h.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),w=(0,h.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),f=(0,h.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var g=e.i(19081),b=e.i(9586),k=e.i(8045),v=e.i(15496),N=e.i(18100),C=e.i(97866);function _({up:e,down:t,className:l,align:s="start"}){return(0,a.jsxs)("div",{className:`flex flex-col gap-0 ${{start:"items-start",center:"items-center",end:"items-end"}[s]} ${l}`,children:[(0,a.jsx)("label",{className:"text-base font-bold",children:e}),(0,a.jsx)("label",{className:"text-sm text-muted-foreground -mt-1",children:t})]})}var y=e.i(98239),U=e.i(8461),T=e.i(83024),D=e.i(47848);let F=({uuid:e,gap:t,box:l,align:s})=>{let{t:r}=(0,m.useTranslation)(),{nodeList:n}=(0,y.useNodeList)(),{live_data:c}=(0,U.useLiveData)(),o=n?.find(a=>a.uuid===e),d=l?D.Card:"div";return(0,a.jsx)(d,{className:"DetailsGrid max-w-[900px]",children:(0,a.jsxs)("div",{className:`flex flex-wrap gap-${t??"4"} basis-full justify-center ${"center"===s?"justify-between":""}`,children:[(0,a.jsx)(_,{className:"md:w-128 flex-[0_0_calc(50%-0.5rem)]",up:"CPU",down:`${o?.cpu_name} (x${o?.cpu_cores})`}),(0,a.jsxs)("label",{className:`flex flex-wrap gap-2 gap-x-8 flex-[0_0_calc(50%-0.5rem)] ${"center"===s?"justify-end":""}`,children:[(0,a.jsx)(_,{up:r("nodeCard.arch"),down:o?.arch??"Unknown"}),(0,a.jsx)(_,{up:r("nodeCard.virtualization"),align:"center"===s?"end":"start",down:o?.virtualization??"Unknown"})]}),(0,a.jsx)(_,{up:"GPU",down:o?.gpu_name??"Unknown",className:"flex-[0_0_calc(50%-0.5rem)]"}),(0,a.jsxs)("div",{className:`flex flex-col gap-0 flex-[0_0_calc(50%-0.5rem)] ${"center"===s?"items-end text-right":"items-start"}`,children:[(0,a.jsx)("label",{className:"text-base font-bold",children:r("nodeCard.os")}),(0,a.jsx)("label",{className:"text-sm text-muted-foreground -mt-1",children:o?.os??"Unknown"}),(0,a.jsxs)("label",{className:"text-xs text-muted-foreground opacity-75",children:[r("nodeCard.kernelVersion"),": ",o?.kernel_version??"Unknown"]})]}),(0,a.jsx)(_,{className:"md:w-64 w-full flex-[0_0_calc(50%-0.5rem)]",up:r("nodeCard.networkSpeed"),down:` ↑ ${(0,b.formatBytes)(c?.data.data[e??""]?.network.up||0)}/s
          ↓
          ${(0,b.formatBytes)(c?.data.data[e??""]?.network.down||0)}/s`}),(0,a.jsx)(_,{up:r("nodeCard.totalTraffic"),align:"center"===s?"end":"start",className:"flex-[0_0_calc(50%-0.5rem)]",down:`↑
          ${(0,b.formatBytes)(c?.data.data[e??""]?.network.totalUp||0)}
          ↓
          ${(0,b.formatBytes)(c?.data.data[e??""]?.network.totalDown||0)}`}),(0,a.jsx)(_,{className:"md:w-70 w-full flex-[0_0_calc(50%-0.5rem)]",up:r("nodeCard.ram"),down:(0,b.formatBytes)(o?.mem_total||0)}),(0,a.jsx)(_,{up:r("nodeCard.swap"),className:"flex-[0_0_calc(50%-0.5rem)]",align:"center"===s?"end":"start",down:(0,b.formatBytes)(o?.swap_total||0)}),(0,a.jsx)(_,{className:"md:w-64 w-full flex-[0_0_calc(50%-0.5rem)]",up:r("nodeCard.disk"),down:(0,b.formatBytes)(o?.disk_total||0)}),(0,a.jsx)("div",{className:"flex-[0_0_calc(50%-0.5rem)]"}),(0,a.jsx)(_,{up:r("nodeCard.uptime"),className:"flex-[0_0_calc(50%-0.5rem)]",down:c?.data.data[e??""]?.uptime?(0,g.formatUptime)(c?.data.data[e??""]?.uptime,r):"-"}),(0,a.jsx)("label",{className:`flex flex-wrap gap-2 flex-[0_0_calc(50%-0.5rem)] ${"center"===s?"justify-end":""}`,children:(0,a.jsxs)(x.Flex,{align:"center",gap:"2",children:[(0,a.jsx)(T.Text,{size:"2",weight:"bold",wrap:"nowrap",children:r("nodeCard.last_updated")}),(0,a.jsx)(T.Text,{size:"2",children:o?.updated_at?new Date(c?.data.data[e??""]?.updated_at||o.updated_at).toLocaleString():"-"})]})})]})})};var B=e.i(81421);e.i(32832);var $=e.i(9228);let S=({node:e})=>(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)(F,{gap:"0",uuid:e.uuid}),(0,a.jsx)("div",{children:(0,a.jsx)(B.default,{hours:24,uuid:e.uuid})})]});e.s(["default",0,({nodes:e,liveData:l})=>{let[h]=(0,m.useTranslation)(),[_,y]=(0,t.useState)(new Set),[U,T]=(0,t.useState)({field:null,order:"default"}),D=e=>a=>{a.preventDefault(),T(a=>{if(a.field!==e)return{field:e,order:"asc"};{let t="default"===a.order?"asc":"asc"===a.order?"desc":"default";return{field:"default"===t?null:e,order:t}}})},F=e=>U.field!==e?null:"asc"===U.order?(0,a.jsx)(w,{size:14}):(0,a.jsx)(f,{size:14}),B=l&&l.online?l.online:[],z=e=>l&&l.data&&l.data[e]||{cpu:{usage:0},ram:{used:0},disk:{used:0},network:{up:0,down:0,totalUp:0,totalDown:0},uptime:0},P=[...e].sort((e,a)=>{let t=B.includes(e.uuid),l=B.includes(a.uuid),s=z(e.uuid),r=z(a.uuid);if(!U.field||"default"===U.order)return t!==l?t?-1:1:e.weight-a.weight;let n=0;switch(U.field){case"name":n=e.name.localeCompare(a.name);break;case"os":n=e.os.localeCompare(a.os);break;case"status":n=Number(l)-Number(t);break;case"cpu":n=s.cpu.usage-r.cpu.usage;break;case"ram":n=(e.mem_total?s.ram.used/e.mem_total*100:0)-(a.mem_total?r.ram.used/a.mem_total*100:0);break;case"disk":n=(e.disk_total?s.disk.used/e.disk_total*100:0)-(a.disk_total?r.disk.used/a.disk_total*100:0);break;case"price":n=e.price-a.price;break;case"networkUp":n=s.network.up-r.network.up;break;case"networkDown":n=s.network.down-r.network.down;break;case"totalUp":n=s.network.totalUp-r.network.totalUp;break;case"totalDown":n=s.network.totalDown-r.network.totalDown;break;default:n=0}return"desc"===U.order?-n:n});return(0,a.jsx)("div",{className:"mx-4 overflow-x-auto rounded-xl node-table-container",children:(0,a.jsxs)(s,{children:[(0,a.jsx)(r,{children:(0,a.jsxs)(c,{children:[(0,a.jsx)(o,{className:"w-[24px]"}),(0,a.jsx)(o,{className:"w-[200px] min-w-[150px] cursor-pointer hover:bg-accent-2 select-none",onClick:D("name"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",children:[h("nodeCard.name"),F("name")]})}),(0,a.jsx)(o,{className:"cursor-pointer hover:bg-accent-2 select-none",onClick:D("os"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",children:[h("nodeCard.os"),F("os")]})}),(0,a.jsx)(o,{className:"max-w-[128px] cursor-pointer hover:bg-accent-2 select-none",onClick:D("status"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",children:[h("nodeCard.status"),F("status")]})}),(0,a.jsx)(o,{className:"cursor-pointer hover:bg-accent-2 select-none",onClick:D("cpu"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",children:[h("nodeCard.cpu"),F("cpu")]})}),(0,a.jsx)(o,{className:"cursor-pointer hover:bg-accent-2 select-none",onClick:D("ram"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",children:[h("nodeCard.ram"),F("ram")]})}),(0,a.jsx)(o,{className:"cursor-pointer hover:bg-accent-2 select-none",onClick:D("disk"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",children:[h("nodeCard.disk"),F("disk")]})}),(0,a.jsx)(o,{className:"cursor-pointer hover:bg-accent-2 select-none",onClick:D("price"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",children:[h("nodeCard.price"),F("price")]})}),(0,a.jsx)(o,{className:"cursor-pointer hover:bg-accent-2 select-none text-center min-w-[80px]",onClick:D("networkUp"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",justify:"center",children:[h("nodeCard.networkUploadSpeed"),F("networkUp")]})}),(0,a.jsx)(o,{className:"cursor-pointer hover:bg-accent-2 select-none text-center min-w-[80px]",onClick:D("networkDown"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",justify:"center",children:[h("nodeCard.networkDownloadSpeed"),F("networkDown")]})}),(0,a.jsx)(o,{className:"cursor-pointer hover:bg-accent-2 select-none text-center min-w-[80px]",onClick:D("totalUp"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",justify:"center",children:[h("nodeCard.totalUpload"),F("totalUp")]})}),(0,a.jsx)(o,{className:"cursor-pointer hover:bg-accent-2 select-none text-center min-w-[80px]",onClick:D("totalDown"),title:h("nodeCard.sortTooltip"),children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",justify:"center",children:[h("nodeCard.totalDownload"),F("totalDown")]})})]})}),(0,a.jsx)(n,{children:P.map(e=>{let l=B.includes(e.uuid),s=z(e.uuid),r=_.has(e.uuid),n=e.mem_total?s.ram.used/e.mem_total*100:0,o=e.disk_total?s.disk.used/e.disk_total*100:0;return(0,a.jsxs)(t.default.Fragment,{children:[(0,a.jsxs)(c,{className:"hover:bg-accent-2 transition-colors duration-200 table-row-hover",onClick:()=>{var a;return a=e.uuid,void y(e=>{let t=new Set(e);return t.has(a)?t.delete(a):t.add(a),t})},children:[(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)(u.IconButton,{variant:"ghost",size:"1",className:`expand-button ${r?"expanded":""}`,"aria-label":"Expand row",children:(0,a.jsx)(j,{size:16})})})}),(0,a.jsx)(d,{className:"node-name-cell",children:(0,a.jsxs)(x.Flex,{align:"center",gap:"1",children:[(0,a.jsx)(v.default,{flag:e.region}),(0,a.jsx)(p.default,{href:`/instance/${e.uuid}`,className:"hover:underline",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)(x.Flex,{direction:"column",gap:"0",children:[(0,a.jsx)("label",{className:"max-w-[150px] font-bold text-lg truncate",children:e.name}),l?(0,a.jsx)("label",{className:"-mt-1 text-muted-foreground text-xs",children:(0,g.formatUptime)(s.uptime,h)}):(0,a.jsx)("label",{className:"-mt-1 text-muted-foreground",children:"-"})]})})]})}),(0,a.jsx)(d,{className:"w-4",children:(0,a.jsx)("img",{src:(0,$.getOSImage)(e.os),alt:e.os,className:"w-5 h-5 mr-2"})}),(0,a.jsx)(d,{children:(0,a.jsxs)(x.Flex,{direction:"row",justify:"start",align:"center",gap:"1",children:[(0,a.jsx)("div",{children:(0,a.jsx)(i.Badge,{color:l?"green":"red",variant:"soft",size:"1",children:l?h("nodeCard.online"):h("nodeCard.offline")})}),s.message&&(0,a.jsx)(C.default,{color:"#CE282E",children:s.message})]})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"w-[100px]",children:(0,a.jsx)(k.default,{label:"",value:s.cpu.usage,compact:!0})})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"w-[100px]",children:(0,a.jsx)(k.default,{label:"",value:n,compact:!0})})}),(0,a.jsx)(d,{children:(0,a.jsx)("div",{className:"w-[100px]",children:(0,a.jsx)(k.default,{label:"",value:o,compact:!0})})}),(0,a.jsx)(d,{children:(0,a.jsx)(N.default,{price:e.price,billing_cycle:e.billing_cycle,expired_at:e.expired_at,currency:e.currency,gap:"1",tags:e.tags||""})}),(0,a.jsx)(d,{className:"text-center min-w-[80px]",children:(0,a.jsxs)("label",{children:["↑",(0,b.formatBytes)(s.network.up),"/s"]})}),(0,a.jsx)(d,{className:"text-center min-w-[80px]",children:(0,a.jsxs)("label",{children:["↓",(0,b.formatBytes)(s.network.down),"/s"]})}),(0,a.jsx)(d,{className:"text-center min-w-[80px]",children:(0,a.jsxs)("label",{children:["↑",(0,b.formatBytes)(s.network.totalUp)]})}),(0,a.jsx)(d,{className:"text-center min-w-[80px]",children:(0,a.jsxs)("label",{children:["↓",(0,b.formatBytes)(s.network.totalDown)]})})]}),r&&(0,a.jsx)(c,{className:"expanded-row",children:(0,a.jsx)(d,{colSpan:12,className:"bg-accent-1",children:(0,a.jsx)("div",{className:"expand-content",children:(0,a.jsx)(S,{node:e,nodeData:s})})})})]},e.uuid)})})]})})}],92738)}]);